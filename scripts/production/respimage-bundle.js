!function(e,t,s){"use strict";function r(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function n(e,t,s){var r=t*Math.pow(e-.4,1.9);return o||(r/=1.3),(e+=r)>s}function i(e,t){return e.res-t.res}function c(e,t,s){var r;return!s&&t&&(s=(s=e[x.ns].sets)&&s[s.length-1]),(r=a(t,s))&&(t=x.makeUrl(t),e[x.ns].curSrc=t,e[x.ns].curCan=r,r.res||J(r,r.set.sizes)),r}function a(e,t){var s,r,n;if(e&&t)for(n=x.parseSet(t),e=x.makeUrl(e),s=0;s<n.length;s++)if(e==x.makeUrl(n[s].url)){r=n[s];break}return r}var u,l,o,p,m,f,d,h,g,v,x={},S=function(){},y=t.createElement("img"),w=y.getAttribute,z=y.setAttribute,b=y.removeAttribute,T=t.documentElement,E={},C={xQuant:1,lazyFactor:.4,maxX:2},M="data-pfsrc",R=M+"set",k="webkitBackfaceVisibility"in T.style,$=navigator.userAgent,P=/rident/.test($)||/ecko/.test($)&&$.match(/rv\:(\d+)/)&&RegExp.$1>35,A="currentSrc",F=/\s+\+?\d+(e\d+)?w/,I=/((?:\([^)]+\)(?:\s*and\s*|\s*or\s*|\s*not\s*)?)+)?\s*(.+)/,L=/^([\+eE\d\.]+)(w|x)$/,U=/\s*\d+h\s*/,G=e.respimgCFG,W=(location.protocol,"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)"),D="font-size:100%!important;",N=!0,Q={},V={},X=e.devicePixelRatio,q={px:1,in:96},H=t.createElement("a"),j=!1,B=function(e,t,s,r){e.addEventListener?e.addEventListener(t,s,r||!1):e.attachEvent&&e.attachEvent("on"+t,s)},O=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}},_=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=O(function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")});return function(s,r){var n;if(!(s in Q))if(Q[s]=!1,r&&(n=s.match(e)))Q[s]=n[1]*q[n[2]];else try{Q[s]=new Function("e",t(s))(q)}catch(e){}return Q[s]}}(),J=function(e,t){return e.w?(e.cWidth=x.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.x,e},K=function(s){var r,n,i,c=s||{};if(c.elements&&1==c.elements.nodeType&&("IMG"==c.elements.nodeName.toUpperCase()?c.elements=[c.elements]:(c.context=c.elements,c.elements=null)),c.reparse&&(c.reevaluate=!0,e.console&&console.warn&&console.warn("reparse was renamed to reevaluate!")),i=(r=c.elements||x.qsa(c.context||t,c.reevaluate||c.reselect?x.sel:x.selShort)).length){for(x.setupRun(c),j=!0,n=0;i>n;n++)x.fillImg(r[n],c);x.teardownRun(c)}},Y=O(function(e){var t=[1,"x"],s=r(e||"");return s&&(t=!!(s=s.replace(U,"")).match(L)&&[1*RegExp.$1,RegExp.$2]),t});if(A in y||(A="src"),E["image/jpeg"]=!0,E["image/gif"]=!0,E["image/png"]=!0,E["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),x.ns=("ri"+(new Date).getTime()).substr(0,9),x.supSrcset="srcset"in y,x.supSizes="sizes"in y,x.supPicture=!!e.HTMLPictureElement,x.supSrcset&&x.supPicture&&!x.supSizes&&function(e){y.srcset="data:,a",e.src="data:,a",x.supSrcset=y.complete===e.complete,x.supPicture=x.supSrcset&&x.supPicture}(t.createElement("img")),x.selShort="picture>img,img[srcset]",x.sel=x.selShort,x.cfg=C,x.supSrcset&&(x.sel+=",img["+R+"]"),x.DPR=X||1,x.u=q,x.types=E,h=x.supSrcset&&!x.supSizes,x.setSize=S,x.makeUrl=O(function(e){return H.href=e,H.href}),x.qsa=function(e,t){return e.querySelectorAll(t)},x.matchesMedia=function(){return x.matchesMedia=e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?function(e){return!e||matchMedia(e).matches}:x.mMQ,x.matchesMedia.apply(this,arguments)},x.mMQ=function(e){return!e||_(e)},x.calcLength=function(e){var t=_(e,!0)||!1;return 0>t&&(t=!1),t},x.supportsType=function(e){return!e||E[e]},x.parseSize=O(function(e){var t=(e||"").match(I);return{media:t&&t[1],length:t&&t[2]}}),x.parseSet=function(e){if(!e.cands){var t,s,r,n,i,c=e.srcset;for(e.cands=[];c;)r=null,-1!=(t=(c=c.replace(/^\s+/g,"")).search(/\s/g))?(","!=(s=c.slice(0,t)).charAt(s.length-1)&&s||(s=s.replace(/,+$/,""),r=""),c=c.slice(t+1),null==r&&(-1!=(n=c.indexOf(","))?(r=c.slice(0,n),c=c.slice(n+1)):(r=c,c=""))):(s=c,c=""),s&&(r=Y(r))&&((i={url:s.replace(/^,+/,""),set:e})[r[1]]=r[0],"x"==r[1]&&1==r[0]&&(e.has1x=!0),e.cands.push(i))}return e.cands},x.getEmValue=function(){var e;if(!d&&(e=t.body)){var s=t.createElement("div"),r=T.style.cssText,n=e.style.cssText;s.style.cssText=W,T.style.cssText=D,e.style.cssText=D,e.appendChild(s),d=s.offsetWidth,e.removeChild(s),d=parseFloat(d,10),T.style.cssText=r,e.style.cssText=n}return d||16},x.calcListLength=function(e){if(!(e in V)||C.uT){var t,s,n,i,c,a,u=r(e).split(/\s*,\s*/),l=!1;for(c=0,a=u.length;a>c&&(t=u[c],n=(s=x.parseSize(t)).length,i=s.media,!n||!x.matchesMedia(i)||!1===(l=x.calcLength(n)));c++);V[e]=l||q.width}return V[e]},x.setRes=function(e){var t;if(e)for(var s=0,r=(t=x.parseSet(e)).length;r>s;s++)J(t[s],e.sizes);return t},x.setRes.res=J,x.applySetCandidate=function(e,t){if(e.length){var s,r,a,o,d,h,g,S,y,w,z,b,T,E=t[x.ns],C=v,M=p,R=f;if(S=E.curSrc||t[A],y=E.curCan||c(t,S,e[0].set),r=x.DPR,T=y&&y.res,!g&&S&&((b=P&&!t.complete&&y&&T-.2>r)||y&&!(m>T)||(y&&r>T&&T>u&&(l>T&&(M*=.8,R+=.04*r),y.res+=M*Math.pow(T-R,2)),w=!E.pic||y&&y.set==e[0].set,y&&w&&y.res>=r&&(g=y))),!g)for(T&&(y.res=y.res-(y.res-T)/2),e.sort(i),g=e[(h=e.length)-1],a=0;h>a;a++)if((s=e[a]).res>=r){g=e[o=a-1]&&(d=s.res-r)&&(b||S!=x.makeUrl(s.url))&&n(e[o].res,d,r)?e[o]:s;break}return T&&(y.res=T),g&&(z=x.makeUrl(g.url),E.curSrc=z,E.curCan=g,z!=S&&x.setSrc(t,g),x.setSize(t)),C}},x.setSrc=function(e,t){var s;e.src=t.url,k&&(s=e.style.zoom,e.style.zoom="0.999",e.style.zoom=s)},x.getSet=function(e){var t,s,r,n=!1,i=e[x.ns].sets;for(t=0;t<i.length&&!n;t++)if((s=i[t]).srcset&&x.matchesMedia(s.media)&&(r=x.supportsType(s.type))){"pending"==r&&(s=r),n=s;break}return n},x.parseSets=function(e,t,r){var n,i,c,u,l="PICTURE"==t.nodeName.toUpperCase(),o=e[x.ns];(o.src===s||r.src)&&(o.src=w.call(e,"src"),o.src?z.call(e,M,o.src):b.call(e,M)),(o.srcset===s||!x.supSrcset||e.srcset||r.srcset)&&(n=w.call(e,"srcset"),o.srcset=n,u=!0),o.sets=[],l&&(o.pic=!0,function(e,t){var s,r,n,i,c=e.getElementsByTagName("source");for(s=0,r=c.length;r>s;s++)(n=c[s])[x.ns]=!0,(i=n.getAttribute("srcset"))&&t.push({srcset:i,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}(t,o.sets)),o.srcset?(i={srcset:o.srcset,sizes:w.call(e,"sizes")},o.sets.push(i),(c=(h||o.src)&&F.test(o.srcset||""))||!o.src||a(o.src,i)||i.has1x||(i.srcset+=", "+o.src,i.cands.push({url:o.src,x:1,set:i}))):o.src&&o.sets.push({srcset:o.src,sizes:null}),o.curCan=null,o.curSrc=s,o.supported=!(l||i&&!x.supSrcset||c),u&&x.supSrcset&&!o.supported&&(n?(z.call(e,R,n),e.srcset=""):b.call(e,R)),o.supported&&!o.srcset&&(!o.src&&e.src||e.src!=x.makeUrl(o.src))&&(null==o.src?e.removeAttribute("src"):e.src=o.src),o.parsed=!0},x.fillImg=function(e,t){var s,r,n=t.reselect||t.reevaluate;if(e[x.ns]||(e[x.ns]={}),r=e[x.ns],n||r.evaled!=v){if(!r.parsed||t.reevaluate){if(!(s=e.parentNode))return;x.parseSets(e,s,t)}r.supported?r.evaled=v:function(e){var t,s=x.getSet(e),r=!1;"pending"!=s&&(r=v,s&&(t=x.setRes(s),r=x.applySetCandidate(t,e))),e[x.ns].evaled=r}(e)}},x.setupRun=function(t){(!j||N||X!=e.devicePixelRatio)&&(function(){var t;N=!1,X=e.devicePixelRatio,Q={},V={},t=(X||1)*C.xQuant,C.uT||(C.maxX=Math.max(1.3,C.maxX),t=Math.min(t,C.maxX),x.DPR=t),q.width=Math.max(e.innerWidth||0,T.clientWidth),q.height=Math.max(e.innerHeight||0,T.clientHeight),q.vw=q.width/100,q.vh=q.height/100,q.em=x.getEmValue(),q.rem=q.em,p=(p=C.lazyFactor/2)*t+p,f=.4+.1*t,u=.5+.2*t,l=.5+.25*t,m=t+1.3,(o=q.width>q.height)||(p*=.9),P&&(p*=.9),v=[q.width,q.height,t].join("-")}(),t.elements||t.context||clearTimeout(g))},x.supPicture?(K=S,x.fillImg=S):(t.createElement("picture"),function(){var s,r=e.attachEvent?/d$|^c/:/d$|^c|^i/,n=function(){var e=t.readyState||"";c=setTimeout(n,"loading"==e?200:999),t.body&&(s=s||r.test(e),x.fillImgs(),s&&clearTimeout(c))},i=function(){x.fillImgs()},c=setTimeout(n,t.body?0:20);B(e,"resize",function(){clearTimeout(g),N=!0,g=setTimeout(i,99)}),B(t,"readystatechange",n)}()),x.respimage=K,x.fillImgs=K,x.teardownRun=S,K._=x,e.respimage=e.picturefill||K,!e.picturefill)for(e.respimgCFG={ri:x,push:function(e){var t=e.shift();"function"==typeof x[t]?x[t].apply(x,e):(C[t]=e[0],j&&x.fillImgs({reselect:!0}))}};G&&G.length;)e.respimgCFG.push(G.shift());e.picturefill||(e.picturefill=e.respimage,e.picturefillCFG||(e.picturefillCFG=e.respimgCFG))}(window,document);
//# sourceMappingURL=respimage-bundle.js.map