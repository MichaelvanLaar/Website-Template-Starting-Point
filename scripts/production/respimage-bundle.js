!function(e,t,s){function r(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function n(e,t,s){var r=t*Math.pow(e-.4,1.9);return u||(r/=1.3),(e+=r)>s}function i(e,t){return e.res-t.res}function a(e,t){var s,r,n;if(e&&t)for(n=E.parseSet(t),e=E.makeUrl(e),s=0;s<n.length;s++)if(e==E.makeUrl(n[s].url)){r=n[s];break}return r}var c,l,u,o,p,m,d,f,h,g,v,x,S,y,w,z,b,T,E={},C=function(){},M=t.createElement("img"),R=M.getAttribute,k=M.setAttribute,$=M.removeAttribute,P=t.documentElement,A={},F={xQuant:1,lazyFactor:.4,maxX:2},I="webkitBackfaceVisibility"in P.style,L=navigator.userAgent,U=/rident/.test(L)||/ecko/.test(L)&&L.match(/rv\:(\d+)/)&&RegExp.$1>35,G="currentSrc",W=/\s+\+?\d+(e\d+)?w/,D=/((?:\([^)]+\)(?:\s*and\s*|\s*or\s*|\s*not\s*)?)+)?\s*(.+)/,N=/^([\+eE\d\.]+)(w|x)$/,Q=/\s*\d+h\s*/,V=e.respimgCFG,X=(location.protocol,"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)"),q="font-size:100%!important;",H=!0,j={},B={},O=e.devicePixelRatio,_={px:1,in:96},J=t.createElement("a"),K=!1,Y=function(e,t,s,r){e.addEventListener?e.addEventListener(t,s,r||!1):e.attachEvent&&e.attachEvent("on"+t,s)},Z=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}},ee=(v=/^([\d\.]+)(em|vw|px)$/,x=Z(function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")}),function(e,t){var s;if(!(e in j))if(j[e]=!1,t&&(s=e.match(v)))j[e]=s[1]*_[s[2]];else try{j[e]=new Function("e",x(e))(_)}catch(r){}return j[e]}),te=function(e,t){return e.w?(e.cWidth=E.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.x,e},se=function(s){var r,n,i,a=s||{};if(a.elements&&1==a.elements.nodeType&&("IMG"==a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),a.reparse&&(a.reevaluate=!0,e.console&&console.warn&&console.warn("reparse was renamed to reevaluate!")),i=(r=a.elements||E.qsa(a.context||t,a.reevaluate||a.reselect?E.sel:E.selShort)).length){for(E.setupRun(a),K=!0,n=0;i>n;n++)E.fillImg(r[n],a);E.teardownRun(a)}},re=Z(function(e){var t=[1,"x"],s=r(e||"");return s&&(t=!!(s=s.replace(Q,"")).match(N)&&[1*RegExp.$1,RegExp.$2]),t});if(G in M||(G="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),E.ns=("ri"+(new Date).getTime()).substr(0,9),E.supSrcset="srcset"in M,E.supSizes="sizes"in M,E.supPicture=!!e.HTMLPictureElement,E.supSrcset&&E.supPicture&&!E.supSizes&&(T=t.createElement("img"),M.srcset="data:,a",T.src="data:,a",E.supSrcset=M.complete===T.complete,E.supPicture=E.supSrcset&&E.supPicture),E.selShort="picture>img,img[srcset]",E.sel=E.selShort,E.cfg=F,E.supSrcset&&(E.sel+=",img[data-pfsrcset]"),E.DPR=O||1,E.u=_,E.types=A,f=E.supSrcset&&!E.supSizes,E.setSize=C,E.makeUrl=Z(function(e){return J.href=e,J.href}),E.qsa=function(e,t){return e.querySelectorAll(t)},E.matchesMedia=function(){return E.matchesMedia=e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?function(e){return!e||matchMedia(e).matches}:E.mMQ,E.matchesMedia.apply(this,arguments)},E.mMQ=function(e){return!e||ee(e)},E.calcLength=function(e){var t=ee(e,!0)||!1;return 0>t&&(t=!1),t},E.supportsType=function(e){return!e||A[e]},E.parseSize=Z(function(e){var t=(e||"").match(D);return{media:t&&t[1],length:t&&t[2]}}),E.parseSet=function(e){if(!e.cands){var t,s,r,n,i,a=e.srcset;for(e.cands=[];a;)r=null,-1!=(t=(a=a.replace(/^\s+/g,"")).search(/\s/g))?(","!=(s=a.slice(0,t)).charAt(s.length-1)&&s||(s=s.replace(/,+$/,""),r=""),a=a.slice(t+1),null==r&&(-1!=(n=a.indexOf(","))?(r=a.slice(0,n),a=a.slice(n+1)):(r=a,a=""))):(s=a,a=""),s&&(r=re(r))&&((i={url:s.replace(/^,+/,""),set:e})[r[1]]=r[0],"x"==r[1]&&1==r[0]&&(e.has1x=!0),e.cands.push(i))}return e.cands},E.getEmValue=function(){var e;if(!d&&(e=t.body)){var s=t.createElement("div"),r=P.style.cssText,n=e.style.cssText;s.style.cssText=X,P.style.cssText=q,e.style.cssText=q,e.appendChild(s),d=s.offsetWidth,e.removeChild(s),d=parseFloat(d,10),P.style.cssText=r,e.style.cssText=n}return d||16},E.calcListLength=function(e){if(!(e in B)||F.uT){var t,s,n,i,a,c,l=r(e).split(/\s*,\s*/),u=!1;for(a=0,c=l.length;c>a&&(t=l[a],n=(s=E.parseSize(t)).length,i=s.media,!n||!E.matchesMedia(i)||!1===(u=E.calcLength(n)));a++);B[e]=u||_.width}return B[e]},E.setRes=function(e){var t;if(e)for(var s=0,r=(t=E.parseSet(e)).length;r>s;s++)te(t[s],e.sizes);return t},E.setRes.res=te,E.applySetCandidate=function(e,t){if(e.length){var s,r,u,d,f,h,v,x,S,y,w,z,b,T=t[E.ns],C=g,M=o,R=m;if(x=T.curSrc||t[G],S=T.curCan||function(e,t,s){var r;return!s&&t&&(s=(s=e[E.ns].sets)&&s[s.length-1]),(r=a(t,s))&&(t=E.makeUrl(t),e[E.ns].curSrc=t,e[E.ns].curCan=r,r.res||te(r,r.set.sizes)),r}(t,x,e[0].set),r=E.DPR,b=S&&S.res,!v&&x&&((z=U&&!t.complete&&S&&b-.2>r)||S&&!(p>b)||(S&&r>b&&b>c&&(l>b&&(M*=.8,R+=.04*r),S.res+=M*Math.pow(b-R,2)),y=!T.pic||S&&S.set==e[0].set,S&&y&&S.res>=r&&(v=S))),!v)for(b&&(S.res=S.res-(S.res-b)/2),e.sort(i),v=e[(h=e.length)-1],u=0;h>u;u++)if((s=e[u]).res>=r){v=e[d=u-1]&&(f=s.res-r)&&(z||x!=E.makeUrl(s.url))&&n(e[d].res,f,r)?e[d]:s;break}return b&&(S.res=b),v&&(w=E.makeUrl(v.url),T.curSrc=w,T.curCan=v,w!=x&&E.setSrc(t,v),E.setSize(t)),C}},E.setSrc=function(e,t){var s;e.src=t.url,I&&(s=e.style.zoom,e.style.zoom="0.999",e.style.zoom=s)},E.getSet=function(e){var t,s,r,n=!1,i=e[E.ns].sets;for(t=0;t<i.length&&!n;t++)if((s=i[t]).srcset&&E.matchesMedia(s.media)&&(r=E.supportsType(s.type))){"pending"==r&&(s=r),n=s;break}return n},E.parseSets=function(e,t,s){var r,n,i,c,l="PICTURE"==t.nodeName.toUpperCase(),u=e[E.ns];(void 0===u.src||s.src)&&(u.src=R.call(e,"src"),u.src?k.call(e,"data-pfsrc",u.src):$.call(e,"data-pfsrc")),(void 0===u.srcset||!E.supSrcset||e.srcset||s.srcset)&&(r=R.call(e,"srcset"),u.srcset=r,c=!0),u.sets=[],l&&(u.pic=!0,function(e,t){var s,r,n,i,a=e.getElementsByTagName("source");for(s=0,r=a.length;r>s;s++)(n=a[s])[E.ns]=!0,(i=n.getAttribute("srcset"))&&t.push({srcset:i,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}(t,u.sets)),u.srcset?(n={srcset:u.srcset,sizes:R.call(e,"sizes")},u.sets.push(n),(i=(f||u.src)&&W.test(u.srcset||""))||!u.src||a(u.src,n)||n.has1x||(n.srcset+=", "+u.src,n.cands.push({url:u.src,x:1,set:n}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=void 0,u.supported=!(l||n&&!E.supSrcset||i),c&&E.supSrcset&&!u.supported&&(r?(k.call(e,"data-pfsrcset",r),e.srcset=""):$.call(e,"data-pfsrcset")),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!=E.makeUrl(u.src))&&(null==u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},E.fillImg=function(e,t){var s,r,n,i,a,c,l=t.reselect||t.reevaluate;if(e[E.ns]||(e[E.ns]={}),r=e[E.ns],l||r.evaled!=g){if(!r.parsed||t.reevaluate){if(!(s=e.parentNode))return;E.parseSets(e,s,t)}r.supported?r.evaled=g:(n=e,c=!1,"pending"!=(a=E.getSet(n))&&(c=g,a&&(i=E.setRes(a),c=E.applySetCandidate(i,n))),n[E.ns].evaled=c)}},E.setupRun=function(t){var s;(!K||H||O!=e.devicePixelRatio)&&(H=!1,O=e.devicePixelRatio,j={},B={},s=(O||1)*F.xQuant,F.uT||(F.maxX=Math.max(1.3,F.maxX),s=Math.min(s,F.maxX),E.DPR=s),_.width=Math.max(e.innerWidth||0,P.clientWidth),_.height=Math.max(e.innerHeight||0,P.clientHeight),_.vw=_.width/100,_.vh=_.height/100,_.em=E.getEmValue(),_.rem=_.em,o=(o=F.lazyFactor/2)*s+o,m=.4+.1*s,c=.5+.2*s,l=.5+.25*s,p=s+1.3,(u=_.width>_.height)||(o*=.9),U&&(o*=.9),g=[_.width,_.height,s].join("-"),t.elements||t.context||clearTimeout(h))},E.supPicture?(se=C,E.fillImg=C):(t.createElement("picture"),y=e.attachEvent?/d$|^c/:/d$|^c|^i/,w=function e(){var s=t.readyState||"";b=setTimeout(e,"loading"==s?200:999),t.body&&(S=S||y.test(s),E.fillImgs(),S&&clearTimeout(b))},z=function(){E.fillImgs()},b=setTimeout(w,t.body?0:20),Y(e,"resize",function(){clearTimeout(h),H=!0,h=setTimeout(z,99)}),Y(t,"readystatechange",w)),E.respimage=se,E.fillImgs=se,E.teardownRun=C,se._=E,e.respimage=e.picturefill||se,!e.picturefill)for(e.respimgCFG={ri:E,push:function(e){var t=e.shift();"function"==typeof E[t]?E[t].apply(E,e):(F[t]=e[0],K&&E.fillImgs({reselect:!0}))}};V&&V.length;)e.respimgCFG.push(V.shift());e.picturefill||(e.picturefill=e.respimage,e.picturefillCFG||(e.picturefillCFG=e.respimgCFG))}(window,document);
//# sourceMappingURL=respimage-bundle.js.map